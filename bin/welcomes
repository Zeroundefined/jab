#! /bin/bash

unwelcome ()
{
    sudo sed -i -e "s/\([^#]*\)\(echo.*Welcome to.*\)/\1# \2/" $1
    sudo sed -i -e "s/\([^#]*\)\(echo.*Bye from.*\)/\1# \2/" $1
}

welcome ()
{
    sudo sed -i -e "s/\([^#]*\)# \(echo.*Welcome to.*\)/\1\2/" $1
    sudo sed -i -e "s/\([^#]*\)# \(echo.*Bye from.*\)/\1\2/" $1
}

WELCOME_FILES="$HOME/.bashrc $HOME/.profile /root/.bashrc /root/.bash_profile /root/.profile /etc/bash.bashrc /etc/bashrc /etc/profile"

welcome_all ()
{
    for file in $WELCOME_FILES
    do
        welcome $file
    done
}

unwelcome_all ()
{
    for file in $WELCOME_FILES
    do
        unwelcome $file
    done
}

main ()
{
    if [[ -z $* ]]
    then welcome_all
    else unwelcome_all
    fi
}

main "$@"

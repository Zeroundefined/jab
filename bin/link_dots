#! /bin/bash

check_jab () {
    [[ -z $JAB ]] && JAB=$(dirname $(dirname $(readlink -f $BASH_SOURCE)))
    if [[ ! -f $JAB/etc/ackrc ]]; then
        echo $JAB/etc/ackrc is not a file >&2
        exit 1
    fi
}

link () {
    destination="$1"
    source="$2"
    [[ -e "$destination" ]] && rm -rf "$destination"
    ln -s $JAB/"$source" $HOME/"$destination"
}

main () {
    cd $HOME
    link ~/.editrc ~/.jab/etc/editrc
    link ~/.dir_colors ~/.jab/etc/dir_colors
    link ~/.ackrc ~/.jab/etc/ackrc
    link ~/.inputrc ~/.jab/etc/inputrc
    link ~/.gitignore_global ~/.jab/etc/gitignore_global
    link ~/.sackrc ~/.jab/etc/sackrc
    link ~/.pylintrc ~/.jab/etc/pylintrc
    link ~/.vimrc ~/.jab/vim/vimrc
    link ~/.vimpagerrc ~/.jab/vim/vimpagerrc
    link ~/.vim ~/.jab/vim
    link ~/.ipython ~/.jab/ipython/
    link ~/.pythonrc.py ~/.jab/src/python/pythonrc.py
    link ~/.tmux.conf .jab/etc/tmux
    link ~/.gvimrc ~/.jab/vim/gvimrc

}

check_jab
main
